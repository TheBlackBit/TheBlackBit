---
import Layout from "../layouts/Layout.astro";
import Toolbar from "../components/Toolbar.astro";
import NormalText from "../components/NormalText.astro";
import PrimaryButton from "../components/PrimaryButton.astro";
import PrimaryTitle from "../components/PrimaryTitle.astro";
import Companies from "../components/Companies.astro";
import Projects from "../components/Projects.astro";
import Blogs from "../components/Blogs.astro";
import ButtonRedirect from "../components/ButtonRedirect.astro";
import ContactForm from "../components/ContactForm.astro";
import SocialMedia from "../components/SocialMedia.astro";
---

<Layout title="TheBlackBit">
  <Toolbar />

  <!-- Home Section -->
  <section
    class="flex min-[889px]:grid min-[889px]:grid-cols-2 items-center h-screen w-screen max-[889px]:bg-[url('/ever_workspace.png')] max-[889px]:bg-fixed max-[889px]:bg-cover"
    id="home"
  >
    <div class="min-[889px]:px-20 mt-36 px-4 z-10">
      <img src="/theblack01white.svg" class="animation-blur" />
      <div class="pl-6 min-[889px]:pl-20 grid grid-rows-2 gap-8">
        <div class="w-56">
          <h4 class="text-neutral-300">
            Software engineer specializing in <strong class="text-sky-400"
              >mobile development.</strong
            >
          </h4>
        </div>
        <PrimaryButton title="GET IN TOUCH" , url="#contact" />
      </div>
    </div>

    <div class="relative max-[889px]:absolute w-full h-screen">
      <div class="h-screen w-full absolute bg-gradient-to-r from-zinc-950">
      </div>
      <div class="h-screen w-full absolute bg-gradient-to-t from-zinc-950">
      </div>
      <img
        src="/ever_workspace.png"
        class="object-cover max-[889px]:hidden h-screen w-screen"
      />
    </div>
    <!-- Image Hero -->
  </section>

  <!-- About me section -->
  <section
    class="h-screen grid grid-cols-2 items-center max-[889px]:flex max-[889px]:items-end"
    id="about"
  >
    <!-- Image Hero -->
    <div class="min-[889px]:relative absolute -z-20">
      <div class="h-full w-full absolute bg-gradient-to-b from-zinc-950 to-55%">
      </div>
      <div
        class="h-full w-full absolute bg-gradient-to-l from-zinc-950 to-100%"
      >
      </div>
      <div class="h-full w-full absolute bg-gradient-to-t from-zinc-950 to-55%">
      </div>
      <div class="h-full w-full absolute bg-gradient-to-r from-zinc-950 to-55%">
      </div>
      <img src="/me9.jpg" class="h-screen w-screen object-cover" />
    </div>

    <div class="px-4 max-[889px]:mb-10">
      <PrimaryTitle text="About me" />
      <div>
        <p class="text-neutral-300 text-1xl">
          My name is <strong class="text-sky-300 text-xl">Ever Solis</strong>, I
          am a software engineer with <strong class="underline">+ 6</strong> years
          of experience.<br /><br />
          Throughout these years I have been working with different projects and
          companies, from financial to small start-ups.
          <br />
          <br />
          Take a look at my projects and experiences, and don't hesitate to contact
          me.
        </p>
      </div>
    </div>
  </section>

  <!-- Experience section -->

  <section
    class="flex flex-col py-20 lg:px-20 xl:px-40 px-4 max-[889px]:items-start min-[889px]:items-center"
    id="experience"
  >
    <!-- TimeLine -->
    <div class="pb-4 self-start">
      <PrimaryTitle text="Experience" />
    </div>

    <!-- TimeLineSkelleton -->
    <div class="py-16 px-5 relative grid grid-cols-1">
      <div class="flex-row absolute top-0 bottom-0">
        <div class="h-10 w-10 bg-zinc-400 rounded-full"></div>

        <div class="h-full">
          <div class="h-full w-10 flex justify-center">
            <div class="w-px h-full bg-zinc-400"></div>
          </div>
        </div>
      </div>

      <!-- Experiences container -->
      <div class="flex flex-col gap-16">
        <Companies />
      </div>
    </div>
  </section>

  <!-- Portfolio section -->
  <section class="lg:px-20 xl:px-40 px-4 py-20" id="portfolio">
    <PrimaryTitle text="Portfolio" />
    <div
      class="grid grid-flow-row auto-rows-auto grid-cols-2 max-[889px]:grid-cols-1 gap-x-10 gap-y-10 max-[889px]:gap-y-10 py-4"
    >
      <Projects />
    </div>
  </section>

  <!-- Blog section -->
  <section
    class="h-1/2 w-screen bg-[url('/blog-bg.jpg')] bg-fixed bg-cover relative"
    id="blog"
  >
    <div class="h-full w-screen absolute bg-gradient-to-t from-zinc-950 to-10%">
    </div>

    <div class="h-full w-screen absolute bg-gradient-to-b from-zinc-950 to-10%">
    </div>

    <div class="h-full w-screen absolute bg-zinc-950 opacity-75"></div>
    <div
      class="h-full w-full relative justify-center flex flex-col gap-4 py-20 px-4 lg:px-20 xl:px-40"
    >
      <PrimaryTitle text="Blog" />

      <div class="flex gap-6 justify-center items-center">
        <Blogs />

        <ButtonRedirect title="More" url="https://medium.com/@thebackbit" />
      </div>
    </div>
  </section>
  <!-- Contact section -->
  <section
    class="w-screen lg:px-20 xl:px-40 px-4 py-20 flex flex-col min-[889px]:grid min-[889px]:grid-cols-2 items-center justify-center gap-12"
    id="contact"
  >
    <div class="flex gap-4 flex-col w-full">
      <PrimaryTitle text="Contact me" />
      <ContactForm />
    </div>

    <div class="flex flex-col w-full">
      <h2 class="text-neutral-300 font-semibold text-sm">
        Send me a message or follow me on my social networks.
      </h2>

      <p class="text-neutral-400 text-sm mt-2">
        If you are interested in hiring me as a freelancer or having me join
        your company, don't hesitate to get in touch.
      </p>

      <SocialMedia />
    </div>
  </section>

  <footer class="w-full bg-black h-20 justify-center items-center flex">
    <div
      class="flex w-max justify-center items-center gap-10 text-neutral-300 text-sm"
    >
      <p>Â© 2023 TheBlackBit</p>
      <div class="w-px h-16 bg-zinc-400"></div>
      <a href="#">
        <img
          src="/theblack01logowhite.svg"
          alt="The black bit logo"
          width="60"
          height="33.6"
        />
      </a>
    </div>
  </footer>
</Layout>

<style>
  .animation-blur {
    animation-duration: 1.5s;
    animation-name: blurry;
  }

  @keyframes blurry {
    from {
      filter: blur(4px);
    }
    to {
      filter: blur(0);
    }
  }
</style>

<script>
  const bannerImage = document.getElementById("home");
  const image = new Image();

  function elementInWindow(element) {
    const rect = element.getBoundingClientRect();
    return rect.top < window.innerHeight && rect.bottom >= 0;
  }

  function handelScroll() {
    const tarjets = document.querySelectorAll(".js-show-on-scroll");

    tarjets.forEach((element) => {
      if (elementInWindow(element)) {
        element.classList.add("animate-fadeIn");
      } else {
        element.classList.remove("animate-fadeIn");
      }
    });
  }

  function loadImageHome() {
    image.src = "/ever_workspace.png";
    image.addEventListener("load", function () {});

    image.addEventListener("error", function () {});
  }

  window.addEventListener("scroll", handelScroll);
  loadImageHome;

  handelScroll();
</script>
